{% extends "_base.html" %}
{% block title %}Productos{% endblock %}

{% block main %}
<main class="container mt-5">
  <div class="main-content">
    <!-- Título de la página -->
    <h1 class="mb-4">Productos</h1>

    <!-- Espacio para la tabla o grid -->
    <div class="row">
      {% for product in products %}
      <div class="col-md-3 mb-3">
        <div class="card h-100">
          <div class="card-body">
            <h3 class="card-title text-truncate">{{ product.name }}</h3>
            <table class="table table-striped table-sm">
              <tr>
                <td><strong>Id:</strong></td>
                <td style="text-align: right;">{{ product.id }}</td>
              </tr>
              <tr>
                <td><strong>Calories:</strong></td>
                <td style="text-align: right;">{{ product.calculate_calories() }}</td>
              </tr>
              <tr>
                <td><strong>Price:</strong></td>
                <td style="text-align: right;">{{ product.price }}</td>
              </tr>
              <tr>
                <td><strong>Cost:</strong></td>
                <td style="text-align: right;">{{ product.calculate_cost() }}</td>
              </tr>
              <tr>
                <td><strong>Profit:</strong></td>
                <td style="text-align: right;">{{ product.calculate_profit() }}</td>
              </tr>
              <tr>
                <td><strong>Is available:</strong></td>
                <td style="text-align: right;">{{ product.is_available() }}</td>
              </tr>
              <tr>
                <td><strong>Extra Data:</strong></td>
                <td style="text-align: right;">{{ product.extra_data }}</td>
              </tr>
            </table>
            <table class="table table-striped table-sm">
              <th>Ingrediente:</th>
              </th>
              <th style="text-align: right;">Cantidad:</th>
              {% for ingredient in product.ingredients %}
              <tr>
                <td>{{ ingredient.name }}</td>
                <td style="text-align: right;">{{ ingredient.units }}</td>
              </tr>
              {% endfor %}
            </table>
          </div>
          <div class="card-footer d-flex justify-content-start">
            <a
              class="btn btn-primary"
              style="margin-right: 6px;"
              href="{{ url_for('products.show', id=product.id) }}"
              >Detalles</a
            >
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</main>
{% endblock %}
